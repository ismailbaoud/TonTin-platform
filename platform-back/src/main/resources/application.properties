# =============================================================================
# TonTin Platform - Main configuration
# Override with environment variables or .env (e.g. via docker-compose).
# =============================================================================

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------
server.port=${SERVER_PORT:9090}

# -----------------------------------------------------------------------------
# DataSource (PostgreSQL)
# Use profile "embedded" for H2: -Dspring-boot.run.profiles=embedded
# -----------------------------------------------------------------------------
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/tontin_test}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:happy}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:happy}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2

# -----------------------------------------------------------------------------
# JPA
# -----------------------------------------------------------------------------
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.open-in-view=false

# -----------------------------------------------------------------------------
# JWT (override in production; use strong SECURITY_JWT_SECRET_KEY)
# -----------------------------------------------------------------------------
security.jwt.secret-key=${SECURITY_JWT_SECRET_KEY:72ccaf3126509f5ad2973e3f1c81fcbf24b3cac93114eba0754b94c4c02f10d9}
security.jwt.issuer=${SECURITY_JWT_ISSUER:tontin-platform}
security.jwt.access-token.expiration=${SECURITY_JWT_ACCESS_TOKEN_EXPIRATION:900000}
# Refresh token: 30 days (2_592_000_000 ms)
security.jwt.refresh-token.expiration=${SECURITY_JWT_REFRESH_TOKEN_EXPIRATION:2592000000}
security.password.bcrypt.strength=${SECURITY_PASSWORD_BCRYPT_STRENGTH:10}

# -----------------------------------------------------------------------------
# Stripe (payments) – set STRIPE_SECRET_KEY and STRIPE_WEBHOOK_SECRET for live
# -----------------------------------------------------------------------------
stripe.secret-key=${STRIPE_SECRET_KEY:}
stripe.webhook-secret=${STRIPE_WEBHOOK_SECRET:}

# -----------------------------------------------------------------------------
# Mail (SMTP – e.g. Gmail for verification emails)
# For Gmail use an App Password: https://myaccount.google.com/apppasswords
# -----------------------------------------------------------------------------
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME:}
spring.mail.password=${SPRING_MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# -----------------------------------------------------------------------------
# App environment (e.g. development, production; used by logging)
# -----------------------------------------------------------------------------
env=${ENV:development}
